<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>UK Driving Theory Test - Complete DVSA Database (200+ Questions)</title>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; }
    </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide React icons (simplified versions)
        const RotateCcw = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                <path d="M3 3v5h5"/>
            </svg>
        );

        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <path d="m9 11 3 3L22 4"/>
            </svg>
        );

        const XCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="m15 9-6 6"/>
                <path d="m9 9 6 6"/>
            </svg>
        );

        const Clock = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 6v6l4 2"/>
            </svg>
        );

        const Target = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );

        const BookOpen = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
            </svg>
        );

 const ALL_QUESTIONS = [
{question: "What is the national speed limit on a single carriageway road for cars and motorcycles?",options: ["50 mph", "60 mph", "70 mph", "40 mph"],correct: 1,explanation: "The national speed limit on single carriageway roads is 60 mph for cars and motorcycles.",category: "Speed Limits"},
{question: "What is the speed limit in a built-up area unless otherwise indicated?",options: ["20 mph", "40 mph", "30 mph", "25 mph"],correct: 2,explanation: "Built-up areas have a default speed limit of 30 mph unless signs indicate otherwise.",category: "Speed Limits"},
{question: "What is the national speed limit on dual carriageways for cars?",options: ["60 mph", "80 mph", "50 mph", "70 mph"],correct: 3,explanation: "Cars can travel at 70 mph on dual carriageways and motorways.",category: "Speed Limits"},
{question: "What is the speed limit for cars towing caravans on motorways?",options: ["70 mph", "60 mph", "50 mph", "55 mph"],correct: 1,explanation: "Cars towing caravans are restricted to 60 mph on motorways and dual carriageways.",category: "Speed Limits"},
{question: "What is the speed limit for large goods vehicles over 7.5 tonnes on single carriageways?",options: ["60 mph", "50 mph", "40 mph", "45 mph"],correct: 1,explanation: "Large goods vehicles over 7.5 tonnes are limited to 50 mph on single carriageways.",category: "Speed Limits"},
{ question: "What is the speed limit for cars on motorways?",options: ["60 mph", "80 mph", "65 mph", "70 mph"],correct: 3,explanation: "The maximum speed limit for cars on motorways is 70 mph unless otherwise indicated.",category: "Speed Limits"},
{ question: "What is the speed limit for cars towing caravans on dual carriageways?", options: ["60 mph", "70 mph", "50 mph", "55 mph"], correct: 0, explanation: "Cars towing caravans are limited to 60 mph on dual carriageways.", category: "Speed Limits" },
{ question: "What does a red circle with a number inside mean?", options: ["Minimum speed limit", "Maximum speed limit", "Advisory speed limit", "Average speed limit"], correct: 1, explanation: "A red circle with a number indicates the maximum speed limit for that section of road.", category: "Speed Limits" },
{ question: "What is the speed limit for buses on single carriageways?", options: ["60 mph", "40 mph", "50 mph", "55 mph"], correct: 2, explanation: "Buses are limited to 50 mph on single carriageways.", category: "Speed Limits" },
{ question: "What is the speed limit for motorcycles on motorways?", options: ["60 mph", "80 mph", "65 mph", "70 mph"], correct: 3, explanation: "Motorcycles have the same speed limit as cars on motorways - 70 mph.", category: "Speed Limits" },
{ question: "What is the typical stopping distance for a car travelling at 30 mph in good conditions?", options: ["23 metres (75 feet)", "18 metres (60 feet)", "30 metres (100 feet)", "15 metres (50 feet)"], correct: 0, explanation: "At 30 mph, thinking distance is 9 metres and braking distance is 14 metres, totaling 23 metres.", category: "Stopping Distances" },
{ question: "What is the typical stopping distance for a car travelling at 50 mph in good conditions?", options: ["53 metres (175 feet)", "38 metres (125 feet)", "45 metres (150 feet)", "60 metres (200 feet)"], correct: 0, explanation: "At 50 mph, thinking distance is 15 metres and braking distance is 38 metres, totaling 53 metres.", category: "Stopping Distances" },
{ question: "What is the typical stopping distance for a car travelling at 70 mph in good conditions?", options: ["96 metres (315 feet)", "75 metres (250 feet)", "85 metres (280 feet)", "105 metres (350 feet)"], correct: 0, explanation: "At 70 mph, thinking distance is 21 metres and braking distance is 75 metres, totaling 96 metres.", category: "Stopping Distances" },
{ question: "In good conditions, what is the recommended minimum following distance?", options: ["A two-second gap", "A one-second gap", "A three-second gap", "A four-second gap"], correct: 0, explanation: "The two-second rule helps maintain a safe following distance in good conditions.", category: "Stopping Distances" },
{ question: "What is the typical thinking distance at 40 mph?", options: ["12 metres (40 feet)", "9 metres (30 feet)", "15 metres (50 feet)", "18 metres (60 feet)"], correct: 0, explanation: "Thinking distance is typically 1 foot per mph, so 40 mph = 40 feet = 12 metres.", category: "Stopping Distances" },
{ question: "At what speed would you have a thinking distance of 24 metres?", options: ["80 mph", "70 mph", "90 mph", "60 mph"], correct: 0, explanation: "Thinking distance is approximately 1 foot per mph, so 80 mph = 80 feet = 24 metres.", category: "Stopping Distances" },
{ question: "What is the typical braking distance at 50 mph?", options: ["38 metres", "30 metres", "45 metres", "33 metres"], correct: 0, explanation: "At 50 mph, braking distance is approximately 38 metres in good conditions.", category: "Stopping Distances" },
{ question: "How much can stopping distances increase on a wet road?", options: ["At least double", "50% increase", "25% increase", "Triple"], correct: 0, explanation: "Wet roads can at least double your stopping distance compared to dry conditions.", category: "Stopping Distances" },
{ question: "What is the overall stopping distance at 50 mph in good conditions?", options: ["53 metres", "45 metres", "60 metres", "38 metres"], correct: 0, explanation: "At 50 mph: thinking distance 15m + braking distance 38m = 53 metres total.", category: "Stopping Distances" },
{ question: "At 60 mph, what is the thinking distance?", options: ["18 metres", "15 metres", "21 metres", "12 metres"], correct: 0, explanation: "Thinking distance at 60 mph is 18 metres (60 feet).", category: "Stopping Distances" },
{ question: "What is the braking distance at 60 mph in good conditions?", options: ["55 metres", "45 metres", "38 metres", "75 metres"], correct: 0, explanation: "At 60 mph, braking distance is approximately 55 metres in good conditions.", category: "Stopping Distances" },
{ question: "What is the overall stopping distance at 40 mph?", options: ["36 metres", "23 metres", "30 metres", "45 metres"], correct: 0, explanation: "At 40 mph, thinking distance is 12 metres and braking distance is 24 metres, totaling 36 metres.", category: "Stopping Distances" },
{ question: "What is the overall stopping distance at 60 mph?", options: ["73 metres", "53 metres", "96 metres", "85 metres"], correct: 0, explanation: "At 60 mph, thinking distance is 18 metres and braking distance is 55 metres, totaling 73 metres.", category: "Stopping Distances" },
{ question: "What factors affect your braking distance?", options: ["Speed, weather, road surface, and vehicle condition", "Only your speed", "Only the weather", "Only your vehicle condition"], correct: 0, explanation: "Braking distance is affected by multiple factors including speed, conditions, and vehicle maintenance.", category: "Stopping Distances" },
{ question: "What is the thinking distance at 20 mph?", options: ["6 metres", "9 metres", "12 metres", "15 metres"], correct: 0, explanation: "Thinking distance at 20 mph is 6 metres (20 feet).", category: "Stopping Distances" },
{ question: "What is the braking distance at 20 mph?", options: ["6 metres", "9 metres", "12 metres", "15 metres"], correct: 0, explanation: "At 20 mph, braking distance is approximately 6 metres in good conditions.", category: "Stopping Distances" },
{ question: "What is the braking distance at 70 mph?", options: ["75 metres", "55 metres", "96 metres", "85 metres"], correct: 0, explanation: "At 70 mph, braking distance is approximately 75 metres in good conditions.", category: "Stopping Distances" },
{ question: "How much can icy roads increase stopping distances?", options: ["Up to 10 times normal", "Double", "Triple", "Five times normal"], correct: 0, explanation: "Icy conditions can increase stopping distances by up to 10 times normal distances.", category: "Stopping Distances" },
{ question: "What is the thinking distance at 30 mph?", options: ["9 metres", "6 metres", "12 metres", "15 metres"], correct: 0, explanation: "Thinking distance at 30 mph is 9 metres (30 feet).", category: "Stopping Distances" },
{ question: "What is the braking distance at 30 mph?", options: ["14 metres", "9 metres", "18 metres", "23 metres"], correct: 0, explanation: "At 30 mph, braking distance is approximately 14 metres in good conditions.", category: "Stopping Distances" },
{ question: "What is the braking distance at 40 mph?", options: ["24 metres", "18 metres", "30 metres", "36 metres"], correct: 0, explanation: "At 40 mph, braking distance is approximately 24 metres in good conditions.", category: "Stopping Distances" },
{ question: "In wet conditions, how should you adjust your following distance?", options: ["At least double it", "Increase by 50%", "Keep it the same", "Reduce it slightly"], correct: 0, explanation: "Wet conditions require at least double the normal following distance.", category: "Stopping Distances" },
{ question: "What is the 4-second rule used for?", options: ["Following distance in poor conditions", "Following distance in good conditions", "Reaction time", "Braking time"], correct: 0, explanation: "The 4-second rule should be used in poor weather conditions for safe following distances.", category: "Stopping Distances" },
{ question: "What affects your reaction time?", options: ["Tiredness, alcohol, drugs, age, and illness", "Only alcohol", "Only tiredness", "Only age"], correct: 0, explanation: "Many factors can slow your reaction time and increase thinking distance.", category: "Stopping Distances" },
{ question: "What happens to braking distance when you double your speed?", options: ["It quadruples", "It doubles", "It triples", "It stays the same"], correct: 0, explanation: "Braking distance increases by the square of the speed increase - double speed means four times the braking distance.", category: "Stopping Distances" },
{ question: "What does a red traffic light mean?", options: ["Stop and wait behind the stop line", "Prepare to stop", "Give way to oncoming traffic", "Proceed with caution"], correct: 0, explanation: "Red means stop completely and wait behind the stop line until the light changes.", category: "Traffic Signs" },
{ question: "What does a flashing amber traffic light mean?", options: ["Proceed with caution", "Stop and wait", "Give way to traffic from the right", "Treat as a green light"], correct: 0, explanation: "Flashing amber means proceed with caution, giving way to pedestrians on the crossing.", category: "Traffic Signs" },
{ question: "What shape are warning signs?", options: ["Triangular", "Circular", "Rectangular", "Octagonal"], correct: 0, explanation: "Warning signs are triangular with red borders to alert drivers to hazards ahead.", category: "Traffic Signs" },
{ question: "What do circular signs with red borders generally mean?", options: ["Something is prohibited", "Warning of danger ahead", "Mandatory instruction", "Information only"], correct: 0, explanation: "Circular signs with red borders indicate prohibitions - things you must not do.", category: "Traffic Signs" },
{ question: "What does a blue circular sign mean?", options: ["Mandatory instruction - something you must do", "Information only", "Warning of hazard", "Prohibition"], correct: 0, explanation: "Blue circular signs give mandatory instructions that drivers must follow.", category: "Traffic Signs" },
{ question: "What does a sign showing a white arrow on a blue background mean?", options: ["Compulsory direction", "No entry", "One way street", "Recommended route"], correct: 0, explanation: "Blue signs with white arrows show compulsory directions that must be followed.", category: "Traffic Signs" },
{ question: "What does a rectangular sign with a red border mean?", options: ["Prohibition", "Warning", "Information", "Mandatory instruction"], correct: 0, explanation: "Red rectangular signs indicate prohibitions or restrictions.", category: "Traffic Signs" },
{ question: "What does a 'No Entry' sign look like?", options: ["Red circle with white horizontal bar", "Red triangle", "Red octagon", "Red square"], correct: 0, explanation: "No Entry signs are circular with a red background and white horizontal bar.", category: "Traffic Signs" },
{ question: "What does a sign with a bicycle in a red circle mean?", options: ["No cycling", "Cycle route", "Cycle lane ahead", "Cycle parking"], correct: 0, explanation: "A bicycle symbol in a red circle means cycling is prohibited.", category: "Traffic Signs" },
{ question: "What colour are motorway signs?", options: ["Blue", "Green", "White", "Yellow"], correct: 0, explanation: "Motorway signs are blue with white text and symbols.", category: "Traffic Signs" },
{ question: "What does a triangular sign with a car and motorcycle mean?", options: ["Two-way traffic ahead", "No motor vehicles", "Motor vehicles only", "Accident black spot"], correct: 0, explanation: "This warning sign indicates two-way traffic ahead after a one-way section.", category: "Traffic Signs" },
{ question: "What does a circular sign with a bus symbol mean?", options: ["Buses only", "No buses", "Bus stop ahead", "Bus route"], correct: 0, explanation: "A blue circular sign with a bus means buses (and sometimes taxis) only.", category: "Traffic Signs" },
{ question: "What does a triangular sign with an exclamation mark mean?", options: ["General warning of danger", "Stop", "Give way", "No entry"], correct: 0, explanation: "A triangular sign with an exclamation mark warns of unspecified danger ahead.", category: "Traffic Signs" },
{ question: "What does a yellow diamond sign mean?", options: ["Priority road", "No priority", "Give way", "Stop"], correct: 0, explanation: "Yellow diamond signs indicate that you're on a priority road.", category: "Traffic Signs" },
{ question: "What does a triangular sign showing a hump mean?", options: ["Road humps ahead", "Hill ahead", "Uneven road", "Bridge ahead"], correct: 0, explanation: "This sign warns of road humps or speed bumps ahead.", category: "Traffic Signs" },
{ question: "What is the minimum legal tread depth for car tyres?", options: ["1.6mm", "1.0mm", "2.0mm", "3.0mm"], correct: 0, explanation: "The legal minimum tread depth is 1.6mm across the central three-quarters of the tyre.", category: "Vehicle Safety" },
{ question: "How often should you check your tyres?", options: ["At least once a week", "Once a month", "Before every journey", "Only when they look flat"], correct: 0, explanation: "Tyres should be checked at least weekly for pressure, tread depth, and general condition.", category: "Vehicle Safety" },
{ question: "What is the maximum fine for driving with defective tyres?", options: ["£2,500 per tyre", "£1,000 per tyre", "£500 per tyre", "£100 per tyre"], correct: 0, explanation: "Each defective tyre can result in a fine of up to £2,500 and three penalty points.", category: "Vehicle Safety" },
{ question: "At what age must you first take an MOT test for your car?", options: ["Three years old", "Two years old", "Four years old", "Five years old"], correct: 0, explanation: "Cars must have their first MOT test when they are three years old, then annually.", category: "Vehicle Safety" },
{ question: "How often should you check your oil level?", options: ["Before a long journey", "Every day", "Once a month", "Only when the warning light comes on"], correct: 0, explanation: "Check oil level before long journeys and weekly for regular driving.", category: "Vehicle Safety" },
{ question: "What should you do if your anti-lock braking system (ABS) warning light stays on?", options: ["Have the brakes checked immediately", "Continue driving normally", "Pump the brakes to reset", "Only drive during daylight"], correct: 0, explanation: "A permanent ABS warning light indicates a fault that needs immediate professional attention.", category: "Vehicle Safety" },
{ question: "What is the legal minimum insurance coverage required?", options: ["Third party", "Third party, fire and theft", "Comprehensive", "Personal injury only"], correct: 0, explanation: "Third party insurance is the legal minimum, covering injury to others and damage to their property.", category: "Vehicle Safety" },
{ question: "How often should you check your vehicle's lights?", options: ["Daily", "Weekly", "Monthly", "Only before MOT"], correct: 0, explanation: "Vehicle lights should be checked daily, especially before driving in dark conditions.", category: "Vehicle Safety" },
{ question: "What should you do if your brake pedal feels spongy?", options: ["Stop driving and get it checked immediately", "Drive carefully to a garage", "Pump the pedal several times", "Continue if the car still stops"], correct: 0, explanation: "A spongy brake pedal indicates air in the brake lines or brake fluid problems - stop driving immediately.", category: "Vehicle Safety" },
{ question: "What is the maximum penalty for driving without insurance?", options: ["Unlimited fine and disqualification", "£500 fine", "£1000 fine and 6 points", "£200 fine and 3 points"], correct: 0, explanation: "Driving without insurance can result in an unlimited fine, disqualification, and vehicle seizure.", category: "Vehicle Safety" },
{ question: "What does it mean if your steering wheel vibrates?", options: ["Possible wheel imbalance or brake problems", "Normal wear and tear", "Low fuel", "Dirty windows"], correct: 0, explanation: "Steering wheel vibration often indicates wheel imbalance, warped brake discs, or suspension problems.", category: "Vehicle Safety" },
{ question: "How often should you check your battery?", options: ["Monthly", "Weekly", "Daily", "Only when it fails"], correct: 0, explanation: "Check battery terminals monthly for corrosion and ensure connections are tight.", category: "Vehicle Safety" },
{ question: "What should you do if your temperature gauge shows overheating?", options: ["Stop immediately and let the engine cool", "Drive slowly to a garage", "Turn on the heater", "Add cold water immediately"], correct: 0, explanation: "Stop immediately to prevent serious engine damage. Never add cold water to a hot engine.", category: "Vehicle Safety" },
{ question: "When should you check your windscreen washer fluid?", options: ["Before long journeys", "Only in winter", "Once a year", "Only when it runs out"], correct: 0, explanation: "Check washer fluid before long journeys and top up regularly, especially in winter.", category: "Vehicle Safety" },
{ question: "What should you do if your exhaust sounds louder than normal?", options: ["Have it checked immediately", "Continue driving normally", "Only worry if it gets worse", "Wait until the next service"], correct: 0, explanation: "A loud exhaust could indicate dangerous fumes entering the car and should be checked immediately.", category: "Vehicle Safety" },
{ question: "What should you do when you see a pedestrian with a white stick?", options: ["Give way and be patient", "Sound your horn to warn them", "Flash your lights", "Overtake quickly"], correct: 0, explanation: "A white stick indicates a blind or partially sighted person - always give way and be patient.", category: "Vulnerable Road Users" },
{ question: "What does a white stick with a red band indicate?", options: ["The person is deaf and blind", "The person is partially sighted", "The person is learning to use a white stick", "The person is a guide dog trainer"], correct: 0, explanation: "A white stick with red bands indicates someone who is both deaf and blind.", category: "Vulnerable Road Users" },
{ question: "When should you give way to pedestrians at a zebra crossing?", options: ["When they are on the crossing", "When they are approaching the crossing", "When they are waiting at the crossing", "Only if they signal to cross"], correct: 0, explanation: "You must give way to pedestrians who are already on the crossing.", category: "Vulnerable Road Users" },
{ question: "What is the safest way to pass a cyclist?", options: ["Leave at least 1.5 metres space", "Sound your horn as you pass", "Pass as quickly as possible", "Follow closely then overtake rapidly"], correct: 0, explanation: "Leave plenty of space when overtaking cyclists - at least 1.5 metres where possible.", category: "Vulnerable Road Users" },
{ question: "What should you do when approaching a school crossing patrol?", options: ["Stop when the patrol steps into the road", "Sound your horn", "Flash your lights", "Slow down but continue if no children are visible"], correct: 0, explanation: "Stop when the school crossing patrol steps into the road with their sign.", category: "Vulnerable Road Users" },
{ question: "What should you do when you see a child on a mobility scooter?", options: ["Give them extra space and time", "Treat them like any pedestrian", "Sound your horn gently", "Expect them to move quickly"], correct: 0, explanation: "Children on mobility scooters need extra consideration as they may not understand traffic rules fully.", category: "Vulnerable Road Users" },
{ question: "What does a red and white striped stick indicate?", options: ["Person is deaf and blind", "Person is blind", "Person is partially sighted", "Person is learning to use the stick"], correct: 0, explanation: "Red and white striped sticks indicate someone who is both deaf and blind.", category: "Vulnerable Road Users" },
{ question: "What should you do when approaching a bus that has stopped at a bus stop?", options: ["Slow down and be prepared for passengers", "Sound your horn", "Flash your lights", "Speed up to pass quickly"], correct: 0, explanation: "Passengers may step out suddenly from around the bus without looking.", category: "Vulnerable Road Users" },
{ question: "What age group is most at risk on the roads?", options: ["17-25 year olds", "Over 65s", "Children under 16", "Middle-aged drivers"], correct: 0, explanation: "Young drivers aged 17-25 have the highest accident rates due to inexperience.", category: "Vulnerable Road Users" },
{ question: "What should you do when you see an elderly person with a walking frame?", options: ["Be patient and give them time", "Sound your horn gently", "Rev your engine", "Flash your lights"], correct: 0, explanation: "Elderly people with mobility aids need extra time and should not be rushed.", category: "Vulnerable Road Users" },
{ question: "What should you do when approaching a guide dog?", options: ["Don't distract the dog", "Pet the dog", "Call to the dog", "Give the dog food"], correct: 0, explanation: "Guide dogs are working and should never be distracted or petted without permission.", category: "Vulnerable Road Users" },
{ question: "What should you do when you see children getting off a school bus?", options: ["Stop and wait until they're safely away", "Sound your horn", "Flash your lights", "Drive past slowly"], correct: 0, explanation: "Children may run into the road from around the bus without looking.", category: "Vulnerable Road Users" },
{ question: "What should you be aware of near ice cream vans?", options: ["Children may run into the road", "The van may stop suddenly", "Other traffic may speed up", "Nothing special"], correct: 0, explanation: "Children often run towards ice cream vans without thinking about traffic.", category: "Vulnerable Road Users" },
{ question: "What should you do when passing a cyclist in wet conditions?", options: ["Leave extra room and drive slowly", "Sound your horn", "Flash your lights", "Pass quickly"], correct: 0, explanation: "Wet conditions make cyclists more vulnerable, requiring extra space and care.", category: "Vulnerable Road Users" },
{ question: "What should you do when you see a motorcycle rider removing their helmet?", options: ["Be prepared to give assistance", "Sound your horn", "Flash your lights", "Drive past quickly"], correct: 0, explanation: "A motorcyclist removing their helmet may need help or be in distress.", category: "Vulnerable Road Users" },
{ question: "What is the legal drink-drive limit in England, Wales and Northern Ireland?", options: ["35 micrograms per 100ml of breath", "50 micrograms per 100ml of breath", "25 micrograms per 100ml of breath", "40 micrograms per 100ml of breath"], correct: 0, explanation: "The limit is 35 micrograms of alcohol per 100ml of breath, or 80mg per 100ml of blood.", category: "Drink Driving" },
{ question: "What is the legal drink-drive limit in Scotland?", options: ["22 micrograms per 100ml of breath", "35 micrograms per 100ml of breath", "25 micrograms per 100ml of breath", "30 micrograms per 100ml of breath"], correct: 0, explanation: "Scotland has a lower limit of 22 micrograms per 100ml of breath.", category: "Drink Driving" },
{ question: "How can you tell if you are still over the drink-drive limit the morning after drinking?", options: ["You cannot tell - only a breath test will show this", "If you feel fine, you're safe to drive", "If you've had 8 hours sleep, you're safe", "If you've had a big breakfast, you're safe"], correct: 0, explanation: "Alcohol stays in your system longer than many people think. Only a breath test can confirm you're under the limit.", category: "Drink Driving" },
{ question: "What should you do if you take medicine that makes you drowsy?", options: ["Check with your doctor if it's safe to drive", "Only drive short distances", "Drive more slowly than usual", "Only drive during daylight hours"], correct: 0, explanation: "Some medicines can affect your ability to drive safely. Always check with your doctor or pharmacist.", category: "Drink Driving" },
{ question: "What is the penalty for drink driving?", options: ["Up to 6 months in prison, unlimited fine, and driving ban", "£100 fine and 3 points", "£500 fine and 6 points", "Written warning for first offence"], correct: 0, explanation: "Drink driving carries severe penalties including possible imprisonment and mandatory driving ban.", category: "Drink Driving" },
{ question: "How long does alcohol take to leave your system?", options: ["About one hour per unit", "30 minutes per drink", "Two hours total", "Until you feel sober"], correct: 0, explanation: "Alcohol is processed at roughly one unit per hour, but this varies between individuals.", category: "Drink Driving" },
{ question: "What increases the effects of alcohol?", options: ["Tiredness, medication, and not eating", "Only drinking on an empty stomach", "Only drinking quickly", "Only mixing drinks"], correct: 0, explanation: "Many factors can increase alcohol's effects on your driving ability.", category: "Drink Driving" },
{ question: "What should you do the morning after drinking?", options: ["Don't drive if there's any doubt", "Drive slowly", "Have a coffee first", "Open the windows"], correct: 0, explanation: "Alcohol may still be in your system the morning after - don't risk it.", category: "Drink Driving" },
{ question: "What is a unit of alcohol?", options: ["10ml of pure alcohol", "One drink", "One pint of beer", "One glass of wine"], correct: 0, explanation: "A unit is 10ml of pure alcohol - different drinks contain different amounts.", category: "Drink Driving" },
{ question: "What should you do if you're taking medication?", options: ["Check if it affects driving", "Don't worry if it's prescribed", "Take half the dose", "Only take it after driving"], correct: 0, explanation: "Many medications can impair driving ability even if they're prescribed.", category: "Drink Driving" },
{ question: "What makes drink driving more dangerous?", options: ["Slower reactions and poor judgement", "Only slower reactions", "Only poor vision", "Only lack of concentration"], correct: 0, explanation: "Alcohol affects multiple aspects of driving ability simultaneously.", category: "Drink Driving" },
{ question: "What should you do if offered an alcoholic drink when driving?", options: ["Politely refuse", "Have just one", "Have a soft drink instead", "Accept but don't drink it"], correct: 0, explanation: "Any alcohol can impair your driving - it's safest to refuse completely.", category: "Drink Driving" },
{ question: "How does alcohol affect your vision?", options: ["Reduces peripheral vision and depth perception", "Only makes things blurry", "Only affects night vision", "Has no effect on vision"], correct: 0, explanation: "Alcohol significantly impairs various aspects of vision needed for safe driving.", category: "Drink Driving" },
{ question: "What should you do if you feel drowsy from medication?", options: ["Don't drive", "Drive slowly", "Drink coffee", "Open windows"], correct: 0, explanation: "Drowsiness from medication is as dangerous as alcohol - don't drive.", category: "Drink Driving" },
{ question: "What is the best advice about drinking and driving?", options: ["Don't drink any alcohol if you're driving", "Stay within the legal limit", "Only drink low-alcohol drinks", "Drink plenty of water"], correct: 0, explanation: "The only safe approach is not to drink any alcohol when driving.", category: "Drink Driving" },
{ question: "What should you do when driving in fog?", options: ["Use dipped headlights", "Use full beam headlights", "Use hazard warning lights", "Use sidelights only"], correct: 0, explanation: "Dipped headlights help you see and be seen in fog. Full beam reflects off the fog.", category: "Weather Conditions" },
{ question: "When can you use hazard warning lights while driving?", options: ["When warning others of a hazard ahead", "When driving slowly", "When driving in fog", "When your vehicle has broken down"], correct: 0, explanation: "Hazard lights can be used while driving to warn other traffic of a hazard or obstruction ahead.", category: "Weather Conditions" },
{ question: "What is the safest way to drive in icy conditions?", options: ["Drive slowly with gentle movements", "Use full beam headlights", "Keep the engine revving high", "Pump the brakes regularly"], correct: 0, explanation: "Gentle acceleration, steering, and braking help maintain control on ice.", category: "Weather Conditions" },
{ question: "What should you do if your car starts to skid?", options: ["Steer gently into the direction of the skid", "Brake hard immediately", "Accelerate to regain control", "Turn the steering wheel the opposite way"], correct: 0, explanation: "Steer gently in the direction you want the car to go and ease off the accelerator.", category: "Weather Conditions" },
{ question: "What should you do in heavy rain?", options: ["Slow down and increase following distance", "Use hazard warning lights", "Drive in the middle of the road", "Use full beam headlights"], correct: 0, explanation: "Heavy rain reduces visibility and increases stopping distances.", category: "Weather Conditions" },
{ question: "What should you do when driving in heavy snow?", options: ["Use gentle acceleration and braking", "Use normal driving technique", "Drive faster to maintain momentum", "Brake hard to test grip"], correct: 0, explanation: "Snow requires gentle inputs to maintain traction and control.", category: "Weather Conditions" },
{ question: "What should you do if your vehicle starts to slide on ice?", options: ["Steer in the direction you want to go", "Brake immediately", "Accelerate", "Turn the wheel the opposite way"], correct: 0, explanation: "Steer gently in the direction you want the vehicle to travel and ease off the accelerator.", category: "Weather Conditions" },
{ question: "How should you drive through a ford or flood?", options: ["Drive slowly in first gear", "Drive quickly to get through", "Stop in the middle", "Use high gear"], correct: 0, explanation: "Drive slowly and steadily in first gear to avoid stalling and maintain momentum.", category: "Weather Conditions" },
{ question: "What should you do in very hot weather?", options: ["Check tyre pressures more frequently", "Reduce tyre pressures", "Increase tyre pressures", "Ignore tyre pressures"], correct: 0, explanation: "Hot weather increases tyre pressure, so check more frequently to avoid over-inflation.", category: "Weather Conditions" },
{ question: "What should you do when driving in autumn?", options: ["Watch for wet leaves on the road", "Drive normally", "Increase speed", "Use summer tyres"], correct: 0, explanation: "Wet leaves can be as slippery as ice and create dangerous conditions.", category: "Weather Conditions" },
{ question: "What should you do in thick fog?", options: ["Use dipped headlights and fog lights", "Use hazard lights", "Use full beam", "Use sidelights only"], correct: 0, explanation: "Dipped headlights and rear fog lights help you see and be seen in thick fog.", category: "Weather Conditions" },
{ question: "When should you use rear fog lights?", options: ["When visibility is less than 100 metres", "In all foggy conditions", "At night", "In heavy rain"], correct: 0, explanation: "Use rear fog lights only when visibility is seriously reduced and switch them off when conditions improve.", category: "Weather Conditions" },
{ question: "What should you do when driving in strong crosswinds?", options: ["Grip the steering wheel firmly and reduce speed", "Open windows", "Drive faster", "Use hazard lights"], correct: 0, explanation: "Strong crosswinds can push your vehicle sideways, especially when overtaking or being overtaken.", category: "Weather Conditions" },
{ question: "What should you do if visibility suddenly drops to near zero?", options: ["Pull over safely and wait", "Continue slowly", "Use hazard lights while driving", "Follow the car in front"], correct: 0, explanation: "If visibility becomes extremely poor, it's safer to stop and wait for conditions to improve.", category: "Weather Conditions" },
{ question: "What should you do when driving in hail?", options: ["Pull over and wait for it to pass", "Continue at normal speed", "Use windscreen wipers", "Drive faster"], correct: 0, explanation: "Hail can severely damage your vehicle and reduce visibility to zero - pull over safely.", category: "Weather Conditions" },
{ question: "How close to a junction can you park?", options: ["Not within 10 metres", "Not within 5 metres", "Not within 15 metres", "Not within 20 metres"], correct: 0, explanation: "You must not park within 10 metres of a junction to maintain visibility.", category: "Parking" },
{ question: "Where should you not park?", options: ["On the brow of a hill", "Near a lamp post", "Outside your own home", "In a 30 mph zone"], correct: 0, explanation: "Parking on the brow of a hill prevents other drivers from seeing your vehicle.", category: "Parking" },
{ question: "What colour are the lines for disabled parking bays?", options: ["Blue", "Yellow", "White", "Red"], correct: 0, explanation: "Disabled parking bays are marked with blue lines and the wheelchair symbol.", category: "Parking" },
{ question: "Where should you not park your vehicle?", options: ["On a pedestrian crossing", "In a car park", "On your own driveway", "Outside a shop"], correct: 0, explanation: "Never park on pedestrian crossings as this blocks safe passage for pedestrians.", category: "Parking" },
{ question: "What do double yellow lines mean?", options: ["No parking at any time", "No parking during the day", "No parking except for loading", "No parking except for residents"], correct: 0, explanation: "Double yellow lines mean no parking at any time unless signs indicate otherwise.", category: "Parking" },
{ question: "What is the maximum time you can park on double yellow lines for loading?", options: ["Check the nearby signs", "30 minutes", "No time at all", "1 hour"], correct: 0, explanation: "Loading restrictions are shown on nearby signs and vary by location.", category: "Parking" },
{ question: "Where should you not park at night without lights?", options: ["On roads with speed limits over 30 mph", "On any road", "On residential roads", "On main roads only"], correct: 0, explanation: "Use parking lights when parked at night on roads with speed limits over 30 mph.", category: "Parking" },
{ question: "What should you do when parking on a hill facing uphill?", options: ["Turn wheels away from the kerb", "Turn wheels toward the kerb", "Keep wheels straight", "Use handbrake only"], correct: 0, explanation: "When facing uphill, turn wheels away from the kerb so the car won't roll backward into traffic.", category: "Parking" },
{ question: "What should you do when parking on a hill facing downhill?", options: ["Turn wheels toward the kerb", "Turn wheels away from the kerb", "Keep wheels straight", "Don't use handbrake"], correct: 0, explanation: "When facing downhill, turn wheels toward the kerb so the car won't roll into traffic.", category: "Parking" },
{ question: "What does a single red line mean?", options: ["No stopping during times shown", "No parking at any time", "Loading bay", "Residents only"], correct: 0, explanation: "Single red lines have time restrictions shown on nearby signs for no stopping.", category: "Parking" },
{ question: "What does a double red line mean?", options: ["No stopping at any time", "No parking during the day", "Loading allowed", "Residents only"], correct: 0, explanation: "Double red lines mean no stopping at any time, not even for loading.", category: "Parking" },
{ question: "How close to a school entrance can you park?", options: ["Check local restrictions", "10 metres", "Not at all", "20 metres"], correct: 0, explanation: "School entrance parking restrictions vary by area and are shown on signs.", category: "Parking" },
{ question: "What should you check before leaving your parked car?", options: ["Handbrake on, engine off, doors locked", "Engine running", "Windows open", "Hazard lights on"], correct: 0, explanation: "Always secure your vehicle properly before leaving it unattended.", category: "Parking" },
{ question: "Where should you park to avoid obstructing traffic?", options: ["Away from bends and junctions", "Close to junctions for visibility", "On main roads", "In the fastest lane"], correct: 0, explanation: "Park where you won't obstruct other road users' view or movement.", category: "Parking" },
{ question: "What should you do when parallel parking?", options: ["Leave room to get out and check mirrors", "Park as close as possible", "Use full lock", "Reverse quickly"], correct: 0, explanation: "Leave adequate space for opening doors and maneuvering safely.", category: "Parking" },
{ question: "When can you use a hand-held mobile phone while driving?", options: ["Only when safely parked with the engine off", "When stopped in traffic", "When driving slowly", "When using hands-free mode"], correct: 0, explanation: "Hand-held phones can only be used when parked with the engine off and handbrake applied.", category: "Mobile Phone Laws" },
{ question: "What is the penalty for using a hand-held mobile phone while driving?", options: ["£200 fine and 6 penalty points", "£100 fine and 3 penalty points", "£500 fine and 3 penalty points", "£200 fine and 3 penalty points"], correct: 0, explanation: "The penalty is £200 and 6 penalty points, which means new drivers would lose their licence.", category: "Mobile Phone Laws" },
{ question: "What counts as using a mobile phone while driving?", options: ["Holding the phone for any reason", "Only making calls", "Only texting", "Only using apps"], correct: 0, explanation: "Any use of a hand-held phone while driving is illegal, including looking at it.", category: "Mobile Phone Laws" },
{ question: "When can you use a hands-free phone while driving?", options: ["When it's safe to do so", "Any time", "Never", "Only when stopped"], correct: 0, explanation: "Hands-free phones can be used but you must still drive safely and concentrate.", category: "Mobile Phone Laws" },
{ question: "What should you do if you need to make an urgent call while driving?", options: ["Find a safe place to stop", "Use hands-free mode", "Keep the call brief", "Pull over on the hard shoulder"], correct: 0, explanation: "The safest option is always to stop in a safe place before making calls.", category: "Mobile Phone Laws" },
{ question: "Can you use your phone while supervising a learner driver?", options: ["No, the same laws apply", "Yes, if you're not driving", "Only for emergencies", "Only if hands-free"], correct: 0, explanation: "Supervising drivers are subject to the same mobile phone laws as any driver.", category: "Mobile Phone Laws" },
{ question: "What counts as being 'safely parked' for phone use?", options: ["Engine off, handbrake on, not obstructing traffic", "Just stopped anywhere", "In traffic queues", "At traffic lights"], correct: 0, explanation: "You must be properly parked with engine off and handbrake applied.", category: "Mobile Phone Laws" },
{ question: "Can you use your phone to pay at a drive-through?", options: ["Only if safely parked", "Yes, it's allowed", "Only with Apple Pay", "Only contactless"], correct: 0, explanation: "You must be safely parked with engine off to use your phone for any purpose.", category: "Mobile Phone Laws" },
{ question: "What should you do if you need to use GPS while driving?", options: ["Set it up before starting your journey", "Hold the phone", "Get passenger to hold it", "Use voice commands while holding"], correct: 0, explanation: "Plan your route and set up navigation before driving.", category: "Mobile Phone Laws" },
{ question: "Can you touch your phone if it's in a cradle?", options: ["Only to start/end calls", "Yes, for any use", "No, never", "Only for navigation"], correct: 0, explanation: "Even mounted phones should only be touched briefly to answer/end calls.", category: "Mobile Phone Laws" },
{ question: "What happens if you cause an accident while using your phone?", options: ["You could face dangerous driving charges", "Just the phone penalty", "No additional penalty", "Small fine only"], correct: 0, explanation: "Using a phone and causing an accident can result in serious charges.", category: "Mobile Phone Laws" },
{ question: "Can you use voice commands to operate your phone while driving?", options: ["Only if you don't touch the phone", "No, never", "Only for emergencies", "Only with specific apps"], correct: 0, explanation: "Voice commands are allowed if you don't need to handle the phone.", category: "Mobile Phone Laws" },
{ question: "What about using your phone when stationary in traffic?", options: ["Still illegal", "It's allowed", "Only for quick calls", "Only for texts"], correct: 0, explanation: "Being stationary in traffic doesn't change the law - you're still driving.", category: "Mobile Phone Laws" },
{ question: "Can passengers use phones normally?", options: ["Yes, passenger laws are different", "No, same restrictions apply", "Only adults", "Only on hands-free"], correct: 0, explanation: "Mobile phone laws only apply to drivers, not passengers.", category: "Mobile Phone Laws" },
{ question: "What should you do if you must make an emergency call while driving?", options: ["Pull over safely first", "Use hands-free", "Drive slowly while calling", "Make it quick"], correct: 0, explanation: "Even emergency calls should be made from a safe, stationary position.", category: "Mobile Phone Laws" },
{ question: "Who has priority at a roundabout?", options: ["Traffic already on the roundabout", "Traffic from the right", "Traffic from the left", "The largest vehicle"], correct: 0, explanation: "Traffic already on the roundabout has priority over traffic waiting to join.", category: "Roundabouts" },
{ question: "Which lane should you use to turn right at a roundabout?", options: ["The right-hand lane", "The left-hand lane", "Either lane", "The middle lane"], correct: 0, explanation: "Use the right-hand lane for turning right, unless road markings indicate otherwise.", category: "Roundabouts" },
{ question: "When should you signal left at a roundabout?", options: ["After passing the exit before the one you want", "As you approach the roundabout", "Only if there are other vehicles around", "Just before you exit"], correct: 0, explanation: "Signal left after passing the exit before yours to help other drivers.", category: "Roundabouts" },
{ question: "What should you do when approaching a roundabout?", options: ["Give way to traffic from the right", "Stop and wait", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Give way to traffic approaching from the right and already on the roundabout.", category: "Roundabouts" },
{ question: "Which lane should you use to go straight ahead at a roundabout?", options: ["The left lane unless signs indicate otherwise", "The right lane", "Either lane", "The middle lane"], correct: 0, explanation: "Use the left lane for straight ahead unless road markings show otherwise.", category: "Roundabouts" },
{ question: "What should you do at a box junction?", options: ["Only enter if your exit is clear", "Stop in the box if necessary", "Always give way to traffic from the right", "Sound your horn before entering"], correct: 0, explanation: "Don't enter a box junction unless your exit is clear.", category: "Roundabouts" },
{ question: "What should you do when emerging from a side road?", options: ["Give way to traffic on the main road", "Sound your horn", "Flash your lights", "Assume traffic will stop for you"], correct: 0, explanation: "Traffic on the main road has priority over traffic joining from side roads.", category: "Roundabouts" },
{ question: "What should you do at a T-junction?", options: ["Give way to traffic on the main road", "Proceed with caution", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Give way to all traffic on the road you're joining.", category: "Roundabouts" },
{ question: "What should you do when turning right at a crossroads?", options: ["Give way to oncoming traffic", "Go first if you arrived first", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Give way to oncoming traffic when turning right.", category: "Roundabouts" },
{ question: "What should you do if traffic lights are not working?", options: ["Treat the junction as an unmarked crossroads", "Proceed with caution", "Give way to traffic from the right", "Stop and wait for instructions"], correct: 0, explanation: "Treat broken traffic lights as an unmarked junction and proceed with extreme caution.", category: "Roundabouts" },
{ question: "What should you do when approaching a mini-roundabout?", options: ["Give way to traffic from the right", "Stop completely", "Give way to traffic from the left", "Proceed if no traffic is visible"], correct: 0, explanation: "Mini-roundabouts follow the same rules as full roundabouts.", category: "Roundabouts" },
{ question: "What should you do when turning left at a roundabout?", options: ["Use the left lane and signal left", "Use the right lane", "Use any lane", "Don't signal"], correct: 0, explanation: "Use the left lane and signal left when turning left at roundabouts.", category: "Roundabouts" },
{ question: "What should you do if you take the wrong exit at a roundabout?", options: ["Continue and find another route", "Reverse back to the correct exit", "Stop and ask for directions", "Do a U-turn"], correct: 0, explanation: "Never reverse on a roundabout - continue and find an alternative route.", category: "Roundabouts" },
{ question: "What should you do at a crossroads with no signs?", options: ["Give way to traffic from the right", "Give way to traffic from the left", "Go first if you arrived first", "Sound your horn and proceed"], correct: 0, explanation: "At unmarked crossroads, give way to traffic approaching from the right.", category: "Roundabouts" },
{ question: "What should you do when emerging from a car park?", options: ["Give way to traffic on the road", "Other traffic should give way to you", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Traffic on the main road has priority over traffic joining from car parks.", category: "Roundabouts" },
{ question: "What should you do before joining a motorway?", options: ["Adjust your speed to match the traffic flow", "Stop at the end of the slip road", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Build up speed on the acceleration lane to match traffic flow.", category: "Motorway Driving" },
{ question: "What is the minimum stopping distance on a motorway at 70 mph?", options: ["96 metres", "75 metres", "53 metres", "120 metres"], correct: 0, explanation: "At 70 mph, the overall stopping distance is 96 metres in good conditions.", category: "Motorway Driving" },
{ question: "What should you do in motorway roadworks?", options: ["Obey the temporary speed limits", "Maintain normal speed", "Use the hard shoulder", "Change lanes frequently"], correct: 0, explanation: "Temporary speed limits in roadworks are legally enforceable.", category: "Motorway Driving" },
{ question: "What should you do if you miss your motorway exit?", options: ["Continue to the next exit", "Reverse back to the exit", "Cross the central reservation", "Stop and ask for directions"], correct: 0, explanation: "Never reverse or turn around on a motorway - continue to the next exit.", category: "Motorway Driving" },
{ question: "What should you do when leaving a motorway?", options: ["Reduce speed gradually on the deceleration lane", "Brake hard as you leave", "Maintain motorway speed", "Signal right as you leave"], correct: 0, explanation: "Use the deceleration lane to reduce speed gradually when leaving the motorway.", category: "Motorway Driving" },
{ question: "What should you do if you see a vehicle broken down on the hard shoulder?", options: ["Move to the right lane if safe", "Stop to offer help", "Flash your lights", "Sound your horn"], correct: 0, explanation: "Move away from the hard shoulder if it's safe to do so.", category: "Motorway Driving" },
{ question: "What should you do if you feel tired on a motorway?", options: ["Leave at the next junction and rest", "Open windows for fresh air", "Turn up the radio", "Drink coffee and continue"], correct: 0, explanation: "Tiredness kills - leave the motorway and rest properly.", category: "Motorway Driving" },
{ question: "What should you do when joining a motorway?", options: ["Give way to traffic already on the motorway", "Traffic should give way to you", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Traffic on the motorway has priority over joining traffic.", category: "Motorway Driving" },
{ question: "What should you do if you break down in the left-hand lane?", options: ["Try to get to the hard shoulder", "Stay where you are", "Get out and walk", "Sound your horn"], correct: 0, explanation: "If possible, try to reach the hard shoulder for safety.", category: "Motorway Driving" },
{ question: "What should you do after passing an emergency vehicle?", options: ["Check your mirrors and return to the left lane", "Stay in the right lane", "Speed up", "Sound your horn"], correct: 0, explanation: "Return to the left lane when it's safe after overtaking.", category: "Motorway Driving" },
{ question: "What is the speed limit for cars on motorways?", options: ["70 mph", "60 mph", "80 mph", "No limit"], correct: 0, explanation: "The maximum speed limit for cars on motorways is 70 mph.", category: "Motorway Driving" },
{ question: "Which vehicles are not allowed on motorways?", options: ["Motorcycles under 50cc", "Motorcycles under 125cc", "Cars under 1.0 litre", "Vehicles over 20 years old"], correct: 0, explanation: "Motorcycles under 50cc are not allowed on motorways as they cannot maintain motorway speeds.", category: "Motorway Driving" },
{ question: "What should you do if you break down on a motorway?", options: ["Pull onto the hard shoulder and exit on the left side", "Stay in your vehicle with hazard lights on", "Stand behind your vehicle to warn others", "Try to reach the next services"], correct: 0, explanation: "Get your vehicle and passengers away from traffic by using the hard shoulder and exiting left.", category: "Motorway Driving" },
{ question: "What is the purpose of motorway emergency telephones?", options: ["To contact the emergency services or traffic control", "To call for fuel delivery", "To contact your insurance company", "To call a friend or family member"], correct: 0, explanation: "Emergency phones connect directly to the control centre for immediate assistance.", category: "Motorway Driving" },
{ question: "Which lane should you normally use on a motorway?", options: ["The left lane", "The middle lane", "The right lane", "Any lane"], correct: 0, explanation: "Keep to the left lane unless overtaking on motorways.", category: "Motorway Driving" },
{ question: "When should you use your horn?", options: ["To warn other road users of your presence", "To express annoyance", "To greet other drivers", "To signal when overtaking"], correct: 0, explanation: "Use your horn only to warn other road users of your presence when necessary.", category: "General Driving" },
{ question: "How often should you check your mirrors when driving?", options: ["Regularly and before any manoeuvre", "Every 30 seconds", "Only when changing lanes", "Only at junctions"], correct: 0, explanation: "Check mirrors regularly and always before signalling, changing direction or speed.", category: "General Driving" },
{ question: "What should you do when being overtaken?", options: ["Maintain steady speed and position", "Speed up", "Move to the left", "Brake"], correct: 0, explanation: "Don't hinder the overtaking vehicle or speed up.", category: "General Driving" },
{ question: "How should you position your vehicle when turning right?", options: ["Move to the centre of the road unless road markings indicate otherwise", "Stay in the left lane", "Move to the right edge", "Stop in the left lane"], correct: 0, explanation: "Position yourself to make your intentions clear to other drivers.", category: "General Driving" },
{ question: "What should you do at a pelican crossing when the red light is flashing?", options: ["Stop and wait for the lights to change", "Proceed if no pedestrians are crossing", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Flashing red means stop - don't proceed.", category: "General Driving" },
{ question: "When can you enter a box junction?", options: ["Only when your exit is clear", "When turning right if held up by oncoming traffic", "When traffic is moving slowly", "Never"], correct: 1, explanation: "Exception: you can enter when turning right if only held up by oncoming traffic.", category: "General Driving" },
{ question: "What should you do if you're unsure which lane to use?", options: ["Get into the left lane", "Stop and ask", "Use the right lane", "Choose any lane"], correct: 0, explanation: "The left lane is generally the safest choice if you're uncertain.", category: "General Driving" },
{ question: "What should you do when driving behind a bus?", options: ["Keep well back and be patient", "Follow closely", "Sound your horn", "Flash your lights"], correct: 0, explanation: "Buses make frequent stops and have limited acceleration.", category: "General Driving" },
{ question: "What should you do if another driver cuts in front of you?", options: ["Stay calm and drop back to maintain a safe following distance", "Sound your horn aggressively", "Flash your lights", "Speed up to close the gap"], correct: 0, explanation: "Road rage is dangerous. Keep your distance and avoid confrontation.", category: "General Driving" },
{ question: "How should you react to other drivers' mistakes?", options: ["Be patient and understanding", "Sound your horn", "Flash your lights", "Make gestures"], correct: 0, explanation: "Everyone makes mistakes. Reacting aggressively makes the situation worse.", category: "General Driving" },
{ question: "What should you do if you get angry while driving?", options: ["Pull over safely and calm down before continuing", "Take deep breaths while driving", "Listen to music", "Continue driving carefully"], correct: 0, explanation: "Anger impairs judgment and reaction times. It's safer to stop and calm down.", category: "General Driving" },
{ question: "How should you treat learner drivers?", options: ["Be patient and give them extra room", "Sound your horn if they're slow", "Flash your lights", "Overtake quickly"], correct: 0, explanation: "Learner drivers need time to develop their skills. Being patient helps create a safer environment.", category: "General Driving" },
{ question: "What should you do if someone is driving very slowly in front of you?", options: ["Be patient and only overtake when it's safe", "Sound your horn", "Flash your lights", "Follow closely"], correct: 0, explanation: "Slow drivers may be elderly, inexperienced, or cautious. Patience is safer than risky overtaking.", category: "General Driving" },
{ question: "How should you behave towards cyclists?", options: ["Give them plenty of room and be patient", "Sound your horn to warn them", "Follow closely", "Expect them to get out of the way"], correct: 0, explanation: "Cyclists are vulnerable road users who deserve respect and consideration.", category: "General Driving" },
{ question: "What should you do if you're being followed too closely?", options: ["Allow the vehicle to overtake when safe", "Speed up", "Brake suddenly", "Block their path"], correct: 0, explanation: "Don't speed up or brake suddenly. Let tailgaters pass when it's safe to do so.", category: "General Driving" },
{ question: "How can you reduce the environmental impact of your driving?", options: ["Plan your route to avoid congestion", "Drive faster", "Use air conditioning constantly", "Make frequent short trips"], correct: 0, explanation: "Route planning reduces fuel consumption and emissions by avoiding traffic jams.", category: "Environmental" },
{ question: "What is the most fuel-efficient way to drive on motorways?", options: ["Maintain a steady speed around 56 mph", "Drive at 70 mph constantly", "Accelerate and brake frequently", "Drive as fast as possible"], correct: 0, explanation: "Steady speeds around 56 mph provide optimal fuel efficiency on motorways.", category: "Environmental" },
{ question: "How does harsh acceleration affect fuel consumption?", options: ["Significantly increases it", "Slightly reduces it", "Has no effect", "Improves it"], correct: 0, explanation: "Harsh acceleration wastes fuel and increases emissions significantly.", category: "Environmental" },
{ question: "What should you do with your engine when waiting at level crossings?", options: ["Switch it off if the wait will be long", "Keep it running", "Rev it occasionally", "Put it in gear"], correct: 0, explanation: "Switching off the engine during long waits reduces emissions and saves fuel.", category: "Environmental" },
{ question: "How does under-inflated tyres affect the environment?", options: ["Increases fuel consumption and emissions", "Reduces emissions", "Has no environmental impact", "Improves fuel economy"], correct: 0, explanation: "Under-inflated tyres create more rolling resistance, increasing fuel use and emissions.", category: "Environmental" },
{ question: "What type of fuel is better for the environment?", options: ["Unleaded petrol", "Leaded petrol", "Any fuel type", "Diesel only"], correct: 0, explanation: "Unleaded petrol produces fewer harmful emissions than leaded petrol.", category: "Environmental" },
{ question: "How does proper tyre pressure help the environment?", options: ["Reduces fuel consumption", "Increases fuel consumption", "Has no effect on fuel consumption", "Only affects safety"], correct: 0, explanation: "Correct tyre pressure reduces rolling resistance and improves fuel efficiency.", category: "Environmental" },
{ question: "What should you do with old tyres?", options: ["Dispose of them at an authorised centre", "Put them in household waste", "Burn them", "Bury them in the garden"], correct: 0, explanation: "Tyres must be disposed of properly at authorised recycling centres.", category: "Environmental" },
{ question: "How can you reduce noise pollution?", options: ["Avoid using the horn unnecessarily", "Use the horn frequently", "Rev the engine when stationary", "Play loud music"], correct: 0, explanation: "Avoid unnecessary horn use and aggressive driving to reduce noise pollution.", category: "Environmental" },
{ question: "How can you reduce fuel consumption?", options: ["Remove unnecessary weight from your vehicle", "Use air conditioning at all times", "Drive in lower gears", "Keep the engine running when parked"], correct: 0, explanation: "Reducing weight, maintaining your vehicle, and driving efficiently all help save fuel.", category: "Environmental" },
{ question: "What driving technique helps reduce fuel consumption?", options: ["Anticipating traffic conditions", "Keeping the engine revving high", "Braking hard at traffic lights", "Accelerating quickly from rest"], correct: 0, explanation: "Anticipating traffic flow helps you maintain steady speeds and avoid unnecessary braking and acceleration.", category: "Environmental" },
{ question: "How does regular vehicle maintenance help the environment?", options: ["Reduces harmful emissions", "Makes the vehicle louder", "Increases fuel consumption", "Makes the vehicle faster"], correct: 0, explanation: "Well-maintained vehicles run more efficiently and produce fewer harmful emissions.", category: "Environmental" },
{ question: "What should you do to reduce emissions when stationary?", options: ["Switch off the engine", "Keep the engine running", "Rev the engine occasionally", "Use air conditioning"], correct: 0, explanation: "Switching off the engine when stationary reduces emissions and saves fuel.", category: "Environmental" },
{ question: "How can you reduce the environmental impact of your driving?", options: ["Plan your route to avoid congestion", "Drive faster", "Use air conditioning constantly", "Make frequent short trips"], correct: 0, explanation: "Route planning reduces fuel consumption and emissions by avoiding traffic jams.", category: "Environmental" },
{ question: "What is the most fuel-efficient way to drive on motorways?", options: ["Maintain a steady speed around 56 mph", "Drive at 70 mph constantly", "Accelerate and brake frequently", "Drive as fast as possible"], correct: 0, explanation: "Steady speeds around 56 mph provide optimal fuel efficiency on motorways.", category: "Environmental" },
{ question: "How does harsh acceleration affect fuel consumption?", options: ["Significantly increases it", "Slightly reduces it", "Has no effect", "Improves it"], correct: 0, explanation: "Harsh acceleration wastes fuel and increases emissions significantly.", category: "Environmental" },
{ question: "What should you do with your engine when waiting at level crossings?", options: ["Switch it off if the wait will be long", "Keep it running", "Rev it occasionally", "Put it in gear"], correct: 0, explanation: "Switching off the engine during long waits reduces emissions and saves fuel.", category: "Environmental" },
{ question: "How does under-inflated tyres affect the environment?", options: ["Increases fuel consumption and emissions", "Reduces emissions", "Has no environmental impact", "Improves fuel economy"], correct: 0, explanation: "Under-inflated tyres create more rolling resistance, increasing fuel use and emissions.", category: "Environmental" },
{ question: "What type of fuel is better for the environment?", options: ["Unleaded petrol", "Leaded petrol", "Any fuel type", "Diesel only"], correct: 0, explanation: "Unleaded petrol produces fewer harmful emissions than leaded petrol.", category: "Environmental" },
{ question: "How does proper tyre pressure help the environment?", options: ["Reduces fuel consumption", "Increases fuel consumption", "Has no effect on fuel consumption", "Only affects safety"], correct: 0, explanation: "Correct tyre pressure reduces rolling resistance and improves fuel efficiency.", category: "Environmental" },
{ question: "What should you do with old tyres?", options: ["Dispose of them at an authorised centre", "Put them in household waste", "Burn them", "Bury them in the garden"], correct: 0, explanation: "Tyres must be disposed of properly at authorised recycling centres.", category: "Environmental" },
{ question: "How can you reduce noise pollution?", options: ["Avoid using the horn unnecessarily", "Use the horn frequently", "Rev the engine when stationary", "Play loud music"], correct: 0, explanation: "Avoid unnecessary horn use and aggressive driving to reduce noise pollution.", category: "Environmental" },
{ question: "How can you drive more efficiently?", options: ["Maintain steady speeds and avoid harsh acceleration", "Drive as fast as possible", "Use higher gears at low speeds", "Brake hard and accelerate quickly"], correct: 0, explanation: "Smooth, steady driving uses less fuel and produces fewer emissions.", category: "Environmental" },
{question: "A casualty isn’t breathing normally and needs CPR. At what rate should you press down and release on the centre of their chest?", options: ["100–120 compressions per minute", "60–80 compressions per minute", "40–60 compressions per minute", "120–140 compressions per minute"], correct: 0, explanation: "Effective CPR requires compressions at a rate of 100–120 per minute to maintain blood flow.", category: "Emergency"},
{question: "A collision has just happened. An injured person is lying in a busy road. What’s the first thing you should do?", options: ["Warn other traffic", "Move them out of the road", "Give them a drink", "Make them sit up"], correct: 0, explanation: "You should warn other traffic to prevent further accidents before attending to the injured person.", category: "Emergency"},
{question: "A cycle lane, marked by a solid white line, is in operation. When are you allowed to drive in it?", options: ["Never during its hours of operation", "Only during daylight hours", "When passing a parked car", "If no cyclists are present"], correct: 0, explanation: "A solid white line indicates the cycle lane is in operation and should not be used during its active times.", category: "Road Markings"},
{question: "A driver’s behaviour has upset you. How can you get over this incident safely?", options: ["Stay calm and don’t retaliate", "Shout at the driver", "Follow them to confront them", "Try to overtake them quickly"], correct: 0, explanation: "Staying calm and avoiding confrontation ensures safety for you and others.", category: "Attitude"},
{question: "A horse rider is in the left-hand lane approaching a roundabout. Where should you expect the rider to go?", options: ["In any direction", "Straight ahead only", "Left only", "Right only"], correct: 0, explanation: "Horse riders may stay left for safety regardless of the exit they plan to take.", category: "Other Road Users"},
{question: "A police officer asks to see your documents. You don’t have them with you. How many days do you have to produce them at a police station?", options: ["7 days", "1 day", "14 days", "3 days"], correct: 0, explanation: "You legally have up to 7 days to produce documents at a police station.", category: "Legal"},
{question: "A single carriageway road has this sign. What’s the maximum permitted speed for a car towing a trailer?", options: ["50 mph", "60 mph", "40 mph", "70 mph"], correct: 0, explanation: "On a single carriageway, the maximum speed for cars towing trailers is 50 mph.", category: "Speed Limits"},
{question: "After a collision, someone is unconscious in their vehicle. When should you call the emergency services?", options: ["As soon as possible", "Only if they're not breathing", "After checking their pulse", "If other drivers haven't already"], correct: 0, explanation: "If someone is unconscious, call emergency services immediately as it may be life-threatening.", category: "Emergency"},
{question: "An adult casualty isn’t breathing. To maintain circulation, CPR should be given. What’s the correct technique?", options: ["30 chest compressions followed by 2 rescue breaths", "15 chest compressions and 5 rescue breaths", "5 rescue breaths only", "10 compressions and 2 breaths"], correct: 0, explanation: "The standard CPR method for adults is 30 compressions followed by 2 rescue breaths.", category: "Emergency"},
{question: "An injured motorcyclist is lying unconscious in the road. What should you do first?", options: ["Check their breathing", "Remove their helmet", "Give them water", "Drag them to the side of the road"], correct: 0, explanation: "Your priority should be to check if they are breathing before taking further action.", category: "Emergency"}

]


        // Function to randomize answer options for each question
        const randomizeAnswerOptions = (question) => {
            const originalCorrectAnswer = question.options[question.correct];
            const shuffledOptions = [...question.options];

            // Fisher-Yates shuffle algorithm
            for (let i = shuffledOptions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
            }

            // Find the new index of the correct answer
            const newCorrectIndex = shuffledOptions.findIndex(option => option === originalCorrectAnswer);

            return {
                ...question,
                options: shuffledOptions,
                correct: newCorrectIndex
            };
        };

        const DrivingTheoryTest = () => {
            const [questions, setQuestions] = useState([]);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [selectedAnswers, setSelectedAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [testStarted, setTestStarted] = useState(false);
            const [timeLeft, setTimeLeft] = useState(57 * 60); // 57 minutes in seconds
            const [selectedCategories, setSelectedCategories] = useState([]);
            const [showCategoryFilter, setShowCategoryFilter] = useState(false);

            // Get unique categories
            const categories = [...new Set(ALL_QUESTIONS.map(q => q.category))];

            // Timer effect
            useEffect(() => {
                if (testStarted && !showResults && timeLeft > 0) {
                    const timer = setInterval(() => {
                        setTimeLeft(prev => {
                            if (prev <= 1) {
                                handleSubmitTest();
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                    return () => clearInterval(timer);
                }
            }, [testStarted, showResults, timeLeft]);

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const shuffleQuestions = (questionsArray) => {
                // First randomize the answer options for each question
                const randomizedQuestions = questionsArray.map(randomizeAnswerOptions);

                // Then shuffle the questions themselves
                const shuffled = [...randomizedQuestions];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled.slice(0, 50); // Take 50 questions for full test
            };

            const getFilteredQuestions = () => {
                if (selectedCategories.length === 0) {
                    return ALL_QUESTIONS;
                }
                return ALL_QUESTIONS.filter(q => selectedCategories.includes(q.category));
            };

            const startTest = () => {
                const availableQuestions = getFilteredQuestions();
                if (availableQuestions.length === 0) {
                    alert("Please select at least one category");
                    return;
                }

                const shuffledQuestions = shuffleQuestions(availableQuestions);
                setQuestions(shuffledQuestions);
                setTestStarted(true);
                setCurrentQuestionIndex(0);
                setSelectedAnswers({});
                setShowResults(false);
                setTimeLeft(57 * 60);
            };

            const handleCategoryToggle = (category) => {
                setSelectedCategories(prev =>
                    prev.includes(category)
                        ? prev.filter(c => c !== category)
                        : [...prev, category]
                );
            };

            const selectAllCategories = () => {
                setSelectedCategories(categories);
            };

            const clearAllCategories = () => {
                setSelectedCategories([]);
            };

            const handleAnswerSelect = (answerIndex) => {
                setSelectedAnswers(prev => ({
                    ...prev,
                    [currentQuestionIndex]: answerIndex
                }));
            };

            const handleNextQuestion = () => {
                if (currentQuestionIndex < questions.length - 1) {
                    setCurrentQuestionIndex(prev => prev + 1);
                }
            };

            const handlePreviousQuestion = () => {
                if (currentQuestionIndex > 0) {
                    setCurrentQuestionIndex(prev => prev - 1);
                }
            };

            const handleSubmitTest = () => {
                setShowResults(true);
                setTestStarted(false);
            };

            const calculateScore = () => {
                let correct = 0;
                questions.forEach((question, index) => {
                    if (selectedAnswers[index] === question.correct) {
                        correct++;
                    }
                });
                return correct;
            };

            const resetTest = () => {
                setTestStarted(false);
                setShowResults(false);
                setCurrentQuestionIndex(0);
                setSelectedAnswers({});
                setTimeLeft(57 * 60);
            };

            const getCategoryStats = () => {
                const stats = {};
                questions.forEach((question, index) => {
                    const category = question.category;
                    if (!stats[category]) {
                        stats[category] = { total: 0, correct: 0 };
                    }
                    stats[category].total++;
                    if (selectedAnswers[index] === question.correct) {
                        stats[category].correct++;
                    }
                });
                return stats;
            };

            if (!testStarted && !showResults) {
                return (
                    <div className="max-w-4xl mx-auto p-6 bg-white min-h-screen">
                        <div className="text-center mb-8">


                            <h1 className="text-3xl font-bold text-blue-900 mb-2">UK Driving Theory Test</h1>
                            <p className="text-gray-600">Complete DVSA Question Database - {ALL_QUESTIONS.length} Questions</p>
                            <p className="text-sm text-gray-500 mt-1">Comprehensive practice test with randomized answer options</p>
                        </div>

                        <div className="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
                            <h2 className="text-xl font-semibold text-green-900 mb-4">✨ Randomized Answer Options</h2>
                            <p className="text-gray-700">
                                Each time you start a test, <strong>all answer options are randomly shuffled</strong> so the correct answer
                                is distributed evenly across A, B, C, and D options. This makes the test more realistic and prevents
                                memorizing answer patterns.
                            </p>
                        </div>

                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                            <h2 className="text-xl font-semibold text-blue-900 mb-4 flex items-center">
                                <BookOpen className="mr-2" />
                                Question Categories ({categories.length} categories available)
                            </h2>
                            <div className="flex gap-2 mb-4">
                                <button
                                    onClick={() => setShowCategoryFilter(!showCategoryFilter)}
                                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    {showCategoryFilter ? 'Hide' : 'Show'} Category Filter
                                </button>
                                {showCategoryFilter && (
                                    <>
                                        <button
                                            onClick={selectAllCategories}
                                            className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
                                        >
                                            Select All
                                        </button>
                                        <button
                                            onClick={clearAllCategories}
                                            className="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"
                                        >
                                            Clear All
                                        </button>
                                    </>
                                )}
                            </div>

                            {showCategoryFilter && (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4">
                                    {categories.map(category => {
                                        const categoryCount = ALL_QUESTIONS.filter(q => q.category === category).length;
                                        return (
                                            <label key={category} className="flex items-center space-x-2 cursor-pointer p-2 hover:bg-blue-100 rounded">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedCategories.includes(category)}
                                                    onChange={() => handleCategoryToggle(category)}
                                                    className="w-4 h-4 text-blue-600 rounded"
                                                />
                                                <span className="text-sm text-gray-700 flex-1">
                                                    {category} ({categoryCount})
                                                </span>
                                            </label>
                                        );
                                    })}
                                </div>
                            )}

                            <div className="text-sm text-gray-600 bg-blue-100 p-3 rounded">
                                <strong>Available questions:</strong> {getFilteredQuestions().length}
                                {selectedCategories.length > 0 && (
                                    <span className="ml-2">
                                        (from {selectedCategories.length} selected categories)
                                    </span>
                                )}
                            </div>
                        </div>

                        <div className="bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6">
                            <h2 className="text-xl font-semibold text-gray-900 mb-4">Test Information</h2>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="flex items-center">
                                    <Target className="text-blue-600 mr-2" />
                                    <div>
                                        <p className="font-medium">Questions</p>
                                        <p className="text-sm text-gray-600">50 questions per test</p>
                                    </div>
                                </div>
                                <div className="flex items-center">
                                    <Clock className="text-blue-600 mr-2" />
                                    <div>
                                        <p className="font-medium">Time Limit</p>
                                        <p className="text-sm text-gray-600">57 minutes</p>
                                    </div>
                                </div>
                                <div className="flex items-center">
                                    <CheckCircle className="text-green-600 mr-2" />
                                    <div>
                                        <p className="font-medium">Pass Mark</p>
                                        <p className="text-sm text-gray-600">43 out of 50 (86%)</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="text-center">
                        {/* New Back Button */}
                            <button
                                onClick={() => window.history.back()}
                                className="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors mr-4"
                            >
                                Back
                            </button>
                            <button
                                onClick={startTest}
                                disabled={getFilteredQuestions().length === 0}
                                className="bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 px-8 rounded-lg text-lg transition-colors"
                            >
                                Start Theory Test
                            </button>
                            <p className="text-sm text-gray-600 mt-2">
                                {selectedCategories.length === 0
                                    ? `Using all ${ALL_QUESTIONS.length} questions from all categories`
                                    : `Using ${getFilteredQuestions().length} questions from ${selectedCategories.length} selected categories`
                                }
                            </p><p><br></br></p><p><br></br></p>
                        </div>
                    </div>
                );
            }

            if (showResults) {
                const score = calculateScore();
                const passed = score >= 43;
                const categoryStats = getCategoryStats();

                return (
                    <div className="max-w-4xl mx-auto p-6 bg-white min-h-screen">
                        <div className="text-center mb-8">
                            <h1 className="text-3xl font-bold text-blue-900 mb-4">Test Results</h1>

                            <div className={`inline-flex items-center justify-center w-32 h-32 rounded-full mb-6 ${
                                passed ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'
                            }`}>
                                {passed ? <CheckCircle size={48} /> : <XCircle size={48} />}
                            </div>

                            <h2 className={`text-4xl font-bold mb-2 ${passed ? 'text-green-600' : 'text-red-600'}`}>
                                {passed ? 'PASS' : 'FAIL'}
                            </h2>

                            <p className="text-2xl text-gray-700 mb-6">
                                {score} out of {questions.length} correct ({Math.round((score / questions.length) * 100)}%)
                            </p>

                            <div className="bg-gray-50 rounded-lg p-4 mb-6">
                                <p className="text-gray-600">
                                    {passed ?
                                        'Congratulations! You passed the theory test. You\'re ready for the real exam!' :
                                        `You need 43 correct answers to pass. You scored ${score} - keep practicing!`
                                    }
                                </p>
                            </div>
                        </div>

                        {/* Category Performance */}
                        {Object.keys(categoryStats).length > 1 && (
                            <div className="mb-8">
                                <h3 className="text-xl font-semibold mb-4">Performance by Category</h3>
                                <div className="grid md:grid-cols-2 gap-4">
                                    {Object.entries(categoryStats).map(([category, stats]) => (
                                        <div key={category} className="bg-gray-50 rounded-lg p-4">
                                            <h4 className="font-medium text-gray-900 mb-2">{category}</h4>
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-600">
                                                    {stats.correct} / {stats.total} correct
                                                </span>
                                                <span className={`text-sm font-medium ${
                                                    stats.correct / stats.total >= 0.8 ? 'text-green-600' :
                                                    stats.correct / stats.total >= 0.6 ? 'text-yellow-600' : 'text-red-600'
                                                }`}>
                                                    {Math.round((stats.correct / stats.total) * 100)}%
                                                </span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-2 mt-2">
                                                <div
                                                    className={`h-2 rounded-full ${
                                                        stats.correct / stats.total >= 0.8 ? 'bg-green-500' :
                                                        stats.correct / stats.total >= 0.6 ? 'bg-yellow-500' : 'bg-red-500'
                                                    }`}
                                                    style={{ width: `${(stats.correct / stats.total) * 100}%` }}
                                                ></div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* Review Questions */}
                        <div className="mb-8">
                            <h3 className="text-xl font-semibold mb-4">Review Your Answers</h3>
                            <div className="space-y-4">
                                {questions.map((question, index) => {
                                    const userAnswer = selectedAnswers[index];
                                    const isCorrect = userAnswer === question.correct;

                                    return (
                                        <div key={index} className={`border rounded-lg p-4 ${
                                            isCorrect ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'
                                        }`}>
                                            <div className="flex items-start">
                                                <div className={`mr-3 mt-1 ${isCorrect ? 'text-green-600' : 'text-red-600'}`}>
                                                    {isCorrect ? <CheckCircle size={20} /> : <XCircle size={20} />}
                                                </div>
                                                <div className="flex-1">
                                                    <div className="flex items-center justify-between mb-2">
                                                        <p className="font-medium">Q{index + 1}: {question.question}</p>
                                                        <span className="ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded">
                                                            {question.category}
                                                        </span>
                                                    </div>
                                                    <div className="grid grid-cols-1 gap-2 mb-3">
                                                        {question.options.map((option, optIndex) => (
                                                            <div key={optIndex} className={`p-2 rounded text-sm ${
                                                                optIndex === question.correct ? 'bg-green-100 text-green-800 font-medium' :
                                                                optIndex === userAnswer && userAnswer !== question.correct ? 'bg-red-100 text-red-800' :
                                                                'bg-gray-100 text-gray-600'
                                                            }`}>
                                                                {String.fromCharCode(65 + optIndex)}) {option}
                                                                {optIndex === question.correct && <span className="ml-2 text-green-600">✓ Correct</span>}
                                                                {optIndex === userAnswer && userAnswer !== question.correct && <span className="ml-2 text-red-600">✗ Your answer</span>}
                                                            </div>
                                                        ))}
                                                    </div>
                                                    {question.explanation && (
                                                        <div className="mt-3 p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-800">
                                                            <strong>Explanation:</strong> {question.explanation}
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        <div className="text-center">
                            <button
                                onClick={resetTest}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors inline-flex items-center"
                            >
                                <RotateCcw className="mr-2" size={20} />
                                Take Another Test
                            </button>
                        </div>
                    </div>
                );
            }

            const currentQuestion = questions[currentQuestionIndex];
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;

            return (
                <div className="max-w-4xl mx-auto p-6 bg-white min-h-screen">
                    <div className="mb-6">
                        <div className="flex justify-between items-center mb-4">
                            <h1 className="text-2xl font-bold text-blue-900">UK Driving Theory Test</h1>
                            <div className="flex items-center text-lg font-medium text-gray-700">
                                <Clock className="mr-2" size={20} />
                                <span className={timeLeft < 300 ? 'text-red-600' : ''}>
                                    {formatTime(timeLeft)}
                                </span>
                            </div>
                        </div>

                        <div className="bg-gray-200 rounded-full h-2 mb-4">
                            <div
                                className="bg-blue-600 h-2 rounded-full transition-all duration-300"
                                style={{ width: `${progress}%` }}
                            ></div>
                        </div>

                        <div className="flex justify-between items-center">
                            <p className="text-gray-600">
                                Question {currentQuestionIndex + 1} of {questions.length}
                            </p>
                            <span className="px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded">
                                {currentQuestion.category}
                            </span>
                        </div>
                    </div>

                    <div className="bg-white border border-gray-200 rounded-lg p-6 mb-6">
                        <h2 className="text-xl font-medium text-gray-900 mb-6">
                            {currentQuestion.question}
                        </h2>

                        <div className="space-y-3">
                            {currentQuestion.options.map((option, index) => (
                                <button
                                    key={index}
                                    onClick={() => handleAnswerSelect(index)}
                                    className={`w-full text-left p-4 rounded-lg border-2 transition-colors ${
                                        selectedAnswers[currentQuestionIndex] === index
                                            ? 'border-blue-500 bg-blue-50 text-blue-900'
                                            : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'
                                    }`}
                                >
                                    <span className="font-medium mr-3">
                                        {String.fromCharCode(65 + index)})
                                    </span>
                                    {option}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="flex justify-between items-center">
                        <button
                            onClick={handlePreviousQuestion}
                            disabled={currentQuestionIndex === 0}
                            className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 transition-colors"
                        >
                            Previous
                        </button>

                        <div className="flex space-x-3">
                            {currentQuestionIndex === questions.length - 1 ? (
                                <button
                                    onClick={handleSubmitTest}
                                    className="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
                                >
                                    Submit Test
                                </button>
                            ) : (
                                <button
                                    onClick={handleNextQuestion}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                >
                                    Next
                                </button>
                            )}
                        </div>
                    </div>

                    <div className="mt-6 p-4 bg-gray-50 rounded-lg">
                        <div className="flex justify-between items-center text-sm text-gray-600">
                            <span>
                                Answered: {Object.keys(selectedAnswers).length} / {questions.length} questions
                            </span>
                            <span>
                                Progress: {Math.round(progress)}%
                            </span>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<DrivingTheoryTest />, document.getElementById('root'));
    </script>
</body>
</html>